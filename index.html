<!DOCTYPE html>
<html lang="en" onkeydown="jump()">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pirasmer</title>
    <link rel="stylesheet" href="css/main.css">
    <header>
        <nav>
            <ul>
                <li><a onclick="darkmode()">Darkmode</a></li>
                <li><a href="#algorithms">Algorithms</a></li>
                <li><a href="#gameContainer">Game</a></li>
            </ul>
        </nav>
    </header>
</head>
<body>

    <div class="title">Pirasmer</div>

    <div class="container" id = "gameContainer">
        <form method="post" action="/">
        <select name="nameid">
            <option value="Pirasmer">Pirasmer</option>
            <option value="Guest">Guest</option>
            <option value="Anon">Anon</option>
        </select>
        <input id="scores" type="hidden" name="scores" value=""/>
        <button class = 'button button1' style = "position:relative; left:10px;">Add</button>
        </form>
        <div id ="pause" class="pause"></div>
        <div class="counter"><span id ="scoreSpan">0</span></div>
        <div class="highscore"id="algorithms"><span id ="highscore">0</span></div>
        <div id="game">
            <div id="character"><img id="sprite" src="images/dinoidle.png" alt="Error"></div>
            <div id="block"><img src="images/spike.png" alt="Error"></div>
        </div>
    </div>

    <div class="container">
        <img src="images\algoimage.jpg" class = "projimage" alt="Image">
        <div class="cover"></div>
        <div class="content">
            <h2>Algorithms</h2>
            <p>Miscellaneous algorithms made in Python and Javascript by me.</p>
            <br>
            <span class="projectCounter"id = "projectNumber">0</span>
            <div class="slideContainer">
                <a class="prev" id="prev">&#10094;</a>
                    <div class="slides" id = "projectName"><a href="" id = "projectLink" target=”_blank”>Projects</a></div>
                        <a class="next" id="next">&#10095;</a>
            </div>   
            <br><br>
            <a href="https://github.com/p1r4sm3r" class="button_links" target=”_blank”>Github</a>
            <a href="https://github.com/p1r4sm3r" class="button_links" target=”_blank” style="margin-left:10em;">Github</a>
            <br><br>
        </div>
    </div>

    <div class="container">
        <img src="images\pirasmer.jpg" class = "projimage" alt="Image">
        <div class="cover"></div>
        <div class="content">
            <h2>Filler</h2>
            <p>Lorem ipsum filler filler filler filler filler filler filler.</p>
            <br>
            <br><br>
            <a href="https://github.com/p1r4sm3r" class="button_links" target=”_blank”>Github</a>
            <a href="https://github.com/p1r4sm3r" class="button_links" target=”_blank” style="margin-left:10em;">Github</a>
            <br><br>
        </div>
    </div>

</body>
<script src="script.js"></script>
<script>
function darkmode(){
    var element = document.body;
    var container = document.querySelectorAll('container');
    element.classList.toggle("dark-mode");
    selected.forEach(function(el) {
        el.classList.remove('option-selected');
    });
    e.target.classList.add('option-selected');
}
</script>
<script type="module">
import { Octokit } from "https://cdn.skypack.dev/@octokit/core";
var projectName = [], projectLink = [], a = document.getElementById('projectLink').innerHTML;
const octokit = new Octokit({ auth: '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', });
const response = octokit.request("GET /repos/p1r4sm3r/Miscellaneous-Algorithms/contents/", {
    owner: 'OWNER',
    repo: 'REPO',
    path: 'PATH'
});


response.then(function(result, res){
    const projects = result.data;
    for (let i=0;i<projects.length;i++){
        projectName.push(projects[i]["name"])
        projectLink.push(projects[i]["_links"]["html"])
    };
});

document.getElementById("prev").addEventListener('click', function slideClick() {
    var projectID = document.getElementById('projectNumber').innerHTML;
    projectID = parseInt(projectID)-1;
    document.getElementById('projectNumber').innerHTML = projectID;
    document.getElementById('projectLink').innerHTML = projectName[projectID];
    document.getElementById("projectLink").setAttribute("href", projectLink[projectID]);})

document.getElementById("next").addEventListener('click', function slideClick() {
    var projectID = document.getElementById('projectNumber').innerHTML;
    projectID = parseInt(projectID)+1;
    document.getElementById('projectNumber').innerHTML = projectID;
    document.getElementById('projectLink').innerHTML = projectName[projectID];
    document.getElementById("projectLink").setAttribute("href", projectLink[projectID]);})

setInterval(function slides(){
    var projectID = document.getElementById('projectNumber').innerHTML;
    projectID = parseInt(projectID)+1;
    if (projectID!=projectName.length){
        document.getElementById('projectLink').innerHTML = projectName[projectID];
        document.getElementById("projectLink").setAttribute("href", projectLink[projectID]);
        document.getElementById('projectNumber').innerHTML = projectID;
    }
    projectID+=1
}, 3000);
setInterval(function checkSlide(){
    var projectID = document.getElementById('projectNumber').innerHTML;
    projectID = parseInt(projectID);
    if (projectID > 28 || projectID < 0){projectID=0}
    document.getElementById('projectLink').innerHTML = projectName[projectID];
    document.getElementById("projectLink").setAttribute("href", projectLink[projectID]);
    document.getElementById('projectNumber').innerHTML = projectID;
}, 10);
</script>
</html>
